{% load static %}
{% load account_extras %}
<!-- Main Sidebar Container -->
<aside class="main-sidebar sidebar-light-primary elevation-4 text-black">
  <!-- Brand Logo -->
  <a href="{% url 'dashboard' %}" class="brand-link">
    <img src="{% static 'logo.png' %}" alt="{{PRODUCT_NAME}} Logo" class="brand-image" style="opacity: .8;">
    <span class="brand-text font-weight-bold">{{PRODUCT_NAME}}</span>
  </a>

  <!-- Sidebar -->
  <div class="sidebar">
    <!-- Sidebar user panel (optional) -->
    <div class="user-panel mt-3 pb-3 mb-3 d-flex">
      <div class="image">
        {% if user.picture %}
        <img src="{{ user.picture.url }}" class="img-circle" style="height:2rem; width:2rem;" alt="User Image">
        {% else %}
        <img src="{% static 'project/img/user.png' %}" class="img-circle elevation-1" alt="User Image">
        {% endif %}
      </div>
      <div class="info">
        {% if user.first_name or user.last_name %}
        <a href="{% url 'dashboard' %}" class="d-block">{{ user.first_name }} {{ user.last_name }}</a>
        {% else %}
        <a href="{% url 'dashboard' %}" class="d-block">{{ user.email }}</a>
        {% endif %}
      </div>
    </div>


    <!-- Sidebar Menu -->
    <nav class="mt-2">
      <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
        <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->

        {% if user|has_group:"member" %}
        <li class="nav-header">MY ACCOUNT</li>
        <li class="nav-item">
          <a href="{% url 'dashboard' %}" class="nav-link {% if 'dashboard' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-tachometer-alt"></i>
            <p>
              Dashboard
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'dashboard' %}" class="nav-link {% if 'balance' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-wallet"></i>
            <p>
              Balance
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'dashboard' %}" class="nav-link {% if 'investment' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-chart-line"></i>
            <p>
              Investment
            </p>
          </a>
        </li>
        {% endif %}

        {% if user|has_group:"member" %}
        <li class="nav-header">POOLS</li>
        <li class="nav-item">
          <a href="{% url 'pool_list' %}" class="nav-link {% if 'pools' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-globe-asia"></i>
            <p>
              Global Pool List
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'pool_list' %}" class="nav-link {% if 'pools/invites' in request.path %}active{% endif %}">
            <i class="nav-icon far fa-envelope-open"></i>
            <p>
              Pool Invitations
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'pool_list' %}" class="nav-link {% if 'pools/membership' in request.path %}active{% endif %}">
            <i class="nav-icon fab fa-galactic-republic"></i>
            <p>
              My Membership Pools
            </p>
          </a>
        </li>
        {% if user|has_group:"master" %}
        <li class="nav-item">
          <a href="{% url 'pool_list' %}" class="nav-link {% if 'pools/mastership' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-hat-cowboy"></i>
            <p>
              My Mastership Pools
            </p>
          </a>
        </li>
        {% endif %}
        {% endif %}

        {% if user|has_group:"manager" %}
        <li class="nav-header">USER MANAGEMENT</li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}"
            class="nav-link {% if 'manager/profile/' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-users"></i>
            <p>
              All Profiles
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}"
            class="nav-link {% if 'manager/profile/poolmember' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-users"></i>
            <p>
              PoolMembers
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}"
            class="nav-link {% if 'manager/profile/poolmaster' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-users"></i>
            <p>
              PoolMasters
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}"
            class="nav-link {% if 'manager/profile/willing/poolmaster' in request.path %}active{% endif %}">
            <i class="nav-icon far fa-calendar-alt"></i>
            <p>
              Willing PoolMasters
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}"
            class="nav-link {% if 'poolmasteruser' in request.path %}active{% endif %}">
            <i class="nav-icon far fa-calendar-alt"></i>
            <p>
              Unverified Profiles
            </p>
          </a>
        </li>
        {% endif %}

        {% if user|has_group:"support" %}
        <li class="nav-header">SUPPORT TICKETS</li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}" class="nav-link {% if 'users' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-users"></i>
            <p>
              Finance Related
            </p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'manager_profile_list' %}" class="nav-link {% if 'users' in request.path %}active{% endif %}">
            <i class="nav-icon fas fa-users"></i>
            <p>
              Application Related
            </p>
          </a>
        </li>
        {% endif %}
      </ul>
    </nav>
    <!-- /.sidebar-menu -->

  </div>
  <!-- /.sidebar -->
</aside>